<!DOCTYPE html>
<html>
<head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
        #map{
            width:100%;
            height:100%;
            margin:auto;
        }
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="map"></div>
<script>
    var map;
    var currentLat = 36.62659598298575;
    var currentLng = 10.007110389971563;

    function initMap() {

        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: currentLat, lng: currentLng},
            zoom: 8,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        });

        var posi = new google.maps.LatLng(currentLat, currentLng);
        var marker = new google.maps.Marker({
            position: posi,
            map: map,
            visible: false
        });

        const infoWindow = new google.maps.InfoWindow();
        document.goToLocation = function(tablat, tablon, Full, map_iamges) {
            var images = map_iamges.split("£")
            var array = Full.split("£")
            for (var i=0; i<tablat.length; i++) {
                const image = {
                    url:
                        `${images[i]}`,
                    scaledSize: new google.maps.Size(120, 100),

                    origin: new google.maps.Point(0, 0),

                    anchor: new google.maps.Point(0, 32),
                };
                const marker = new google.maps.Marker({
                    position: new google.maps.LatLng(tablat[i], tablon[i]),

                    map: map,

                    icon:image,

                    title:"<h4>"+array[i]+"</h4>"+"<p>Pour plus d'information n'hésitez pas à me contacter sur Facebook </p><a href='https://www.facebook.com/selim.benaich/'>Selim Ben Aich</a><p> Tel:+21693165012</p>"
                });
                marker.addListener("click", () => {
                    infoWindow.close();
                    infoWindow.setContent(marker.getTitle());
                    infoWindow.open(marker.getMap(), marker);
                    if (marker.getAnimation() !== null) {
                        marker.setAnimation(null);
                    } else {
                        marker.setAnimation(google.maps.Animation.BOUNCE);
                    }
                });
            }
        }
    }
</script>

<script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
</script>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAObzCbk0hwnk8LbUcTeFguDk5ZDr36VS4&callback=initMap&language=fr"
        async defer></script>

</body>
</html>